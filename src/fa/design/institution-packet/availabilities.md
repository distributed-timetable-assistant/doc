# دسترسی‌ها (Availabilities)

دسترسی‌ها بازه‌های زمانی خاص را همراه با وضعیت برای اهداف زمان‌بندی تعریف می‌کنند. این سیستم امکان ایجاد قوانین زمان‌بندی پیچیده شامل الگوهای تکرارشونده، محدوده‌های زمانی خاص و مدیریت استثناها (مانند تعطیلات) را فراهم می‌کند.

## ساختار

یک ورودی دسترسی شامل ساختاری سلسله‌مراتبی از تعاریف زمانی است.

### فیلدهای سطح بالا

- **action**: عملیاتی که باید انجام شود.
    - `Add`: افزودن دسترسی برای دوره مشخص شده.
    - `Remove`: حذف دسترسی (مثلاً برای تعطیلات یا استثناها).
- **add-type** (برای عمل `Add`): دامنه افزودن را تعریف می‌کند.
    - `WeeklyPeriod`: الگوی تکرارشونده هفتگی.
    - `DailyPeriod`: الگوی تکرارشونده روزانه.
    - `MonthlyPeriod`: الگوی تکرارشونده ماهانه.
    - `YearlyPeriod`: الگوی تکرارشونده سالانه.
    - `Blocks`: مجموعه‌ای از بلوک‌های زمانی خاص.
    - `Block`: یک بلوک زمانی خاص تکی.
- **remove-type** (برای عمل `Remove`): دامنه حذف را تعریف می‌کند.
    - `Holidays`: حذف زمان بر اساس تعطیلات رسمی برای یک منطقه خاص.
- **start**: تاریخ/زمان شروع دوره دسترسی (فرمت ISO 8601).
- **end**: تاریخ/زمان پایان دوره دسترسی (فرمت ISO 8601).
- **country** (برای `Holidays`): کد کشور (مثلاً "ir", "au-qld") برای دریافت تعطیلات رسمی.

### سلول‌های زمانی (Time Cells)

سلول‌های زمانی واحدهای تودرتویی هستند که دقت زمان‌بندی را تعریف می‌کنند.

- **action**: `Add` یا `Remove`.
- **add-type**: نوع سلول زمانی (مثلاً `DailyPeriod`, `Block`).
- **start**: محدودیت شروع برای سلول (مثلاً `08:00`, `Monday`).
- **end**: محدودیت پایان برای سلول.
- **status**: وضعیت در دسترس بودن برای این جایگاه.
    - `Available`: زمان آزاد است و می‌تواند رزرو شود.
    - `Unavailable`: زمان قابل رزرو نیست.
    - `Preferred`: زمان برای رزرو ترجیح داده می‌شود.
    - `Undesired`: زمان ترجیح داده نمی‌شود اما در صورت لزوم قابل استفاده است.
- **rules**: لیستی از محدودیت‌ها یا رفتارهای خاص (اختیاری).

## مثال‌ها

### برنامه مدرسه راهنمایی بریزبن

این مثال یک برنامه مدرسه برای مدرسه راهنمایی در بریزبن، استرالیا را نشان می‌دهد.
- **روزها**: دوشنبه تا جمعه.
- **ساعات**: ۰۸:۳۰ تا ۱۵:۱۰.
- **ساختار**: ۶ زنگ با ۲ وقت استراحت (چای صبحگاهی و ناهار).
- **ترم**: ترم ۱ (۲۸ ژانویه) تا ترم ۴ (۱۲ دسامبر) برای سال ۲۰۲۵.
- **تعطیلات**: تعطیلات رسمی کوئینزلند مستثنی شده‌اند.

```yaml
availabilities:
  # تعریف برنامه اصلی مدرسه برای سال ۲۰۲۵
  - action: Add
    add-type: WeeklyPeriod
    first-day-of-week: Monday
    start: 2025-01-28T00:00:00+10:00 # شروع ترم ۱
    end: 2025-12-12T23:59:59+10:00   # پایان ترم ۴
    time-cells:
      - action: Add
        add-type: DailyPeriod
        start: Monday
        end: Friday
        time-cells:
          # زنگ ۱: ۰۸:۳۰ - ۰۹:۲۰
          - action: Add
            add-type: Block
            start: 08:30
            end: 09:20
            status: Available
            rules: []

          # زنگ ۲: ۰۹:۲۰ - ۱۰:۱۰
          - action: Add
            add-type: Block
            start: 09:20
            end: 10:10
            status: Available
            rules: []

          # استراحت ۱ (چای صبحگاهی): ۱۰:۱۰ - ۱۰:۴۰ (مستثنی شده)

          # زنگ ۳: ۱۰:۴۰ - ۱۱:۳۰
          - action: Add
            add-type: Block
            start: 10:40
            end: 11:30
            status: Available
            rules: []

          # زنگ ۴: ۱۱:۳۰ - ۱۲:۲۰
          - action: Add
            add-type: Block
            start: 11:30
            end: 12:20
            status: Available
            rules: []

          # جمع‌بندی: ۱۲:۲۰ - ۱۳:۰۰
          - action: Add
            add-type: Block
            start: 12:20
            end: 13:00
            status: Available
            rules: []

          # استراحت ۲ (ناهار): ۱۳:۰۰ - ۱۳:۳۰ (مستثنی شده)

          # زنگ ۵: ۱۳:۳۰ - ۱۴:۲۰
          - action: Add
            add-type: Block
            start: 13:30
            end: 14:20
            status: Available
            rules: []

          # زنگ ۶: ۱۴:۲۰ - ۱۵:۱۰
          - action: Add
            add-type: Block
            start: 14:20
            end: 15:10
            status: Available
            rules: []

  # حذف تعطیلات رسمی کوئینزلند
  - action: Remove
    remove-type: Holidays
    country: "au-qld"
    start: 2025-01-28T00:00:00+10:00
    end: 2025-12-12T23:59:59+10:00
```
